<textarea id="code1">
    import Input from 'comps/input';

    <Input placeholder="请输入" />
</textarea>

<textarea id="code2">
    import Input from 'comps/input';

    <Input size="small" placeholder="small size" />
    <Input placeholder="default size" />
    <Input size="large" placeholder="large size" />
</textarea>

<textarea id="code3">
    import Input from 'comps/input';

    jsx:
    <Input ref={ref => this.errRef = ref} isMust={true} placeholder="请输入" />

    js:
    this.errRef.setErr(true); // 设置输入框错误状态
</textarea>

<textarea id="code4">
    import Input from 'comps/input';

    <Input value="disabled" disabled={true} />
</textarea>

<textarea id="code5">
    import Input from 'comps/input';

    <Input maxLength={20} placeholder="请输入" />
</textarea>

<textarea id="code6">
    import Input from 'comps/input';

    <Input changeReg="noBlank" placeholder="不允许输入空格" />
    <Input changeReg="number" placeholder="只允许输入数字" />
    <Input changeReg="decimal" placeholder="小数点后面保留两位数字" />
    <Input changeReg="letter" placeholder="只允许输入大小写字母" />
    <Input changeReg="letterAndNumber" placeholder="只允许输入大小写字母和0-9数字" />
    <Input changeReg="name" placeholder="大小写字母、0-9数字、空格、以及中文" />
</textarea>

<textarea id="code7">
    import Input from 'comps/input';

    <Input
        changeReg="number"
        blurReg="phone"
        maxLength={11}
        placeholder="请输入联系电话"
    />
    <Input
        changeReg="number"
        blurReg="^\d{15,19}$"
        maxLength={19}
        placeholder="请输入银行卡号"
    />
    <Input
        changeReg="certNo"
        blurReg="certNo"
        maxLength={18}
        placeholder="请输入身份证号"
    />
</textarea>

<textarea id="code8">
    import Input from 'comps/input';

    jsx:
    <Input showTip={true} placeholder="请输入" />
    <Input
        changeReg="number"
        blurReg="phone"
        maxLength={11}
        showTip={this.phoneTip}
        placeholder="请输入联系电话"
    />
    <Input
        changeReg="number"
        blurReg="^\d{15,19}$"
        maxLength={19}
        showTip={this.bankTip}
        placeholder="请输入银行卡号"
    />

    js:
    phoneTip = (tip) => { // 手机号提示
        return tip.replace(/^(\d{3})(\d{4})?/,(str, $1, $2) => {return `${$1} ${$2 ? $2 + ' ' : ''}`;});
    }

    bankTip = (tip) => { // 银行卡号提示
        return tip.replace(/(\d{4})(?=\d)/g, `$1 `);
    }
</textarea>

<textarea id="code9">
    import {Input, InputGroup} from 'comps/input';

    jsx:
    <InputGroup addonBefore={addonBefore}>
        <Input placeholder="请输入" />
    </InputGroup>
    <Input
        className={Style['input-address']}
        addonBefore="http://"
        addonAfter=".com"
        placeholder="请输入"
    />

    js:
    const addonBefore = (
        <select>
            <option>请选择</option>
            <option value="中国银行">中国银行</option>
            <option value="招商银行">招商银行</option>
            <option value="工商银行">工商银行</option>
            <option value="建设银行">建设银行</option>
        </select>
    );
</textarea>

<textarea id="code10">
    import Input from 'comps/input';
    import Button from 'comps/button';

    jsx:
    <div>
        <div>
            <Input ref={ref => this.nameRef = ref} value={name}
                changeReg="name" maxLength={40} isMust={true} showTip={true}
                onChange={(e, val) => this.valChange(val, 'name')}
                onError={(type) => this.showErr(type, this.nameErrRef, '姓名')}
                placeholder="请输入姓名"
            />
            <p ref={ref => this.nameErrRef = ref} className="red" />
        </div>
        <div>
            <Input ref={ref => this.idNoRef = ref} value={idNo}
                changeReg="certNo" blurReg="certNo" maxLength={18} isMust={true}
                onChange={(e, val) => this.valChange(val, 'idNo')}
                onError={(type) => this.showErr(type, this.idNoErrRef, '身份证号')}
                placeholder="请输入身份证号"
            />
            <p ref={ref => this.idNoErrRef = ref} className="red" />
        </div>
        <div>
            <Button onClick={this.submitFn}>提交</Button>
        </div>
        { this.state.isSubmit ? this.getInfo() : undefined }
    </div>

    js:
    state = {
        data: {},           // 提交数据
        isSubmit: false     // 提交状态
    }

    valChange = (val, key) => {
        const {data} = this.state;
        data[key] = val;
        this.setState({
            data,
            isSubmit: false
        });
    }

    // type 1 - 输入信息为空 2 - 格式不正确 其他 - 清空错误信息
    showErr = (type, curRef, text) => {
        let msg = '';
        switch(type) {
            case 1: msg = `${text}不能为空`; break;
            case 2: msg = `${text}格式错误`; break;
            default: msg = ''; break;
        }
        curRef.innerHTML = msg;
    }

    submitFn = () => {
        // 校验必填和格式校验
        if(!this.nameRef.checkValid() || !this.idNoRef.checkValid()) {
            return;
        }

        this.setState({
            isSubmit: true // 提交后展示输入框内容
        });
    }

    getInfo = () => {
        const {data: {name = '', idNo = ''}} = this.state;

        return <ul className={Style.info}>
            <li><label>姓名：</label>{name}</li>
            <li><label>身份证号：</label>{idNo}</li>
        </ul>;
    }
</textarea>